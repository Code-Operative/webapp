<div
  class="post"
  loading
  loading-when="Ctrl.isLoading">
  <div class="post__scrollable-view">
    <div class="post__preview" ng-if="Ctrl.canPreviewPost()">
      <div class="post__preview-controls">
        <img
          alt="Toggle the post preview cinema mode"
          class="post__preview-control-btn"
          ng-click="Ctrl.toggleCinemaMode()"
          ng-show="Ctrl.previewState !== 'hide' && (Ctrl.PostService.post.type === 'video' || Ctrl.PostService.post.type === 'image')"
          ng-src="/assets/images/icons/{{ Ctrl.previewState === 'maximise' ? 'minimise' : 'maximise' }}.svg"
          offset-y="40"
          text="Ctrl.previewState === 'maximise' ? 'Shrink' : 'Expand'"
          tooltip />

        <!--
        <img
          alt="Toggle the post preview visibility"
          class="post__preview-control-btn"
          ng-class="{ 'toggled': Ctrl.previewState !== 'hide' }"
          ng-click="Ctrl.togglePreviewState()"
          offset-y="40"
          src="/assets/images/icons/show.svg"
          text="Ctrl.previewState === 'hide' ? 'Show' : 'Hide'"
          tooltip />
        -->
      </div>

      <ng-include src="Ctrl.getPreviewTemplate()"></ng-include>
    </div>

    <tabs
      class="style--border style--content-block"
      items="Ctrl.tabItems"
      ng-if="Ctrl.isPostType('poll')"
      states="Ctrl.tabStates"
      state-params="Ctrl.tabStateParams">
    </tabs>
    
    <div
      class="post__body"
      ng-if="Ctrl.isPostType('poll')"
      ui-view>
    </div>

    <div
      class="post__body"
      ng-if="!Ctrl.isPostType('poll')">
      <comments></comments>
    </div>
  </div>
</div>

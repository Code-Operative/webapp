<h3 class="profile-tab-description">Account Notifications</h3>
<div id="profile-notifications" ng-controller="profileNotificationsController">
  <div id="empty" ng-show="!notifications || notifications.length == 0">No notifications.</div>
  <ul loading when="isLoading">
    <li ng-repeat="notification in notifications" ng-class="{ 'unread': notification.unread == true }">
      <div class="toggle-unread" ng-click="setUnread(notification, !notification.unread)"></div>
      <div class="images">
        <img ng-src="assets/images/notifications/{{ getNotificationImageType(notification) }}.png">
      </div>
      <div class="notification-entry">
        <div class="title" ng-if="notification.type == NotificationTypes.NEW_CHILD_BRANCH_REQUEST"><a ng-click="setUnread(notification, false)" ui-sref="weco.profile.about({ username: notification.data.username })">{{ notification.data.username == me().username ? 'you' : notification.data.username }}</a> submitted a child branch request from <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.nucleus.about({ branchid: notification.data.childid })">b/{{ notification.data.childid }}</a> to <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.nucleus.about({ branchid: notification.data.parentid })">b/{{ notification.data.parentid }}</a></div>
        <div class="title" ng-if="notification.type == NotificationTypes.CHILD_BRANCH_REQUEST_ANSWERED"><a ng-click="setUnread(notification, false)" ui-sref="weco.profile.about({ username: notification.data.username })">{{ notification.data.username == me().username ? 'you' : notification.data.username }}</a> {{ notification.data.action }}ed your child branch request from <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.nucleus.about({ branchid: notification.data.childid })">b/{{ notification.data.childid }}</a> to <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.nucleus.about({ branchid: notification.data.parentid })">b/{{ notification.data.parentid }}</a></div>
        <div class="title" ng-if="notification.type == NotificationTypes.BRANCH_MOVED"><a ng-click="setUnread(notification, false)" ui-sref="weco.branch.nucleus.about({ branchid: notification.data.childid })">b/{{ notification.data.childid }}</a> was moved to <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.nucleus.about({ branchid: notification.data.parentid })">b/{{ notification.data.parentid }}</a></div>
        <div class="title" ng-if="notification.type == NotificationTypes.MODERATOR"><a ng-click="setUnread(notification, false)" ui-sref="weco.profile.about({ username: notification.data.username })">{{ notification.data.username == me().username ? 'you' : notification.data.username }}</a> {{ notification.data.action }}{{ notification.data.action == 'add' ? 'ed' : 'd' }} <a ng-click="setUnread(notification, false)" ui-sref="weco.profile.about({ username: notification.data.mod })">{{ notification.data.mod == me().username ? 'you' : notification.data.mod }}</a> as a moderator on <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.nucleus.about({ branchid: notification.data.branchid })">b/{{ notification.data.branchid }}</a></div>
        <div class="title" ng-if="notification.type == NotificationTypes.COMMENT && notification.data.parentid == 'none'"><a ng-click="setUnread(notification, false)" ui-sref="weco.profile.about({ username: notification.data.username })">{{ notification.data.username == me().username ? 'you' : notification.data.username }}</a> <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.post.comment({ branchid: notification.data.branchid, postid: notification.data.postid, commentid: notification.data.commentid })">commented</a> on your <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.post({ branchid: notification.data.branchid, postid: notification.data.postid })">post</a></div>
        <div class="title" ng-if="notification.type == NotificationTypes.COMMENT && notification.data.parentid != 'none'"><a ng-click="setUnread(notification, false)" ui-sref="weco.profile.about({ username: notification.data.username })">{{ notification.data.username == me().username ? 'you' : notification.data.username }}</a> <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.post.comment({ branchid: notification.data.branchid, postid: notification.data.postid, commentid: notification.data.commentid })">replied</a> to your <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.post.comment({ branchid: notification.data.branchid, postid: notification.data.postid, commentid: notification.data.parentid })">comment</a> on a <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.post({ branchid: notification.data.branchid, postid: notification.data.postid })">post</a></div>
        <div class="title" ng-if="notification.type == NotificationTypes.POST_FLAGGED"><a ng-click="setUnread(notification, false)" ui-sref="weco.profile.about({ username: notification.data.username })">{{ notification.data.username == me().username ? 'you' : notification.data.username }}</a> flagged a <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.post({ branchid: notification.data.branchid, postid: notification.data.postid })">post</a> on <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.nucleus.about({ branchid: notification.data.branchid })">b/{{ notification.data.branchid }}</a> {{ reasonString(notification.data.reason) }}</div>
        <div class="title" ng-if="notification.type == NotificationTypes.POST_REMOVED"><a ng-click="setUnread(notification, false)" ui-sref="weco.profile.about({ username: notification.data.username })">{{ notification.data.username == me().username ? 'you' : notification.data.username }}</a> removed your <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.post({ branchid: notification.data.branchid, postid: notification.data.postid })">post</a> from <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.nucleus.about({ branchid: notification.data.branchid })">b/{{ notification.data.branchid }}</a> {{ reasonString(notification.data.reason) }}, stating:<p class="message">{{ notification.data.message }}<p></div>

        <div class="title" ng-if="notification.type == NotificationTypes.POST_TYPE_CHANGED"><a ng-click="setUnread(notification, false)" ui-sref="weco.profile.about({ username: notification.data.username })">{{ notification.data.username == me().username ? 'you' : notification.data.username }}</a> changed the post type of your <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.post({ branchid: notification.data.branchid, postid: notification.data.postid })">post</a> on <a ng-click="setUnread(notification, false)" ui-sref="weco.branch.nucleus.about({ branchid: notification.data.branchid })">b/{{ notification.data.branchid }}</a> to &#39;{{ notification.data.type }}&#39;</div>
        <div class="description">received at {{ notification.date | date:'hh:mm on dd of MMMM yyyy' }}</div>
      </div>
    </li>
  </u>
</div>

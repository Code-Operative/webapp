<h3 class="profile-tab-description">Account Notifications</h3>
<div id="profile-notifications" ng-controller="profileNotificationsController">
  <ul loading when="isLoading">
    <li ng-repeat="notification in notifications" ng-class="{ 'unread': notification.unread }">
      <div class="toggle-unread" ng-click="toggleUnread(notification)"></div>
      <div class="images">
        <!--
        <a ui-sref="weco.profile.about({ username: notification.data.username })"><div class="user-profile" style="background-image: url('{{ notification.profileUrl }}'), url('/assets/images/default-profile.jpg')"></div></a>
        -->
      </div>
      <div class="notification-entry">
        <div class="title" ng-if="notification.type == NotificationTypes.NEW_CHILD_BRANCH_REQUEST"><a ui-sref="weco.profile.about({ username: notification.data.username })">{{ notification.data.username == me().username ? 'you' : notification.data.username }}</a> submitted a parent branch request from <a ui-sref="weco.branch.nucleus.about({ branchid: notification.data.childid })">b/{{ notification.data.childid }}</a> to <a ui-sref="weco.branch.nucleus.about({ branchid: notification.data.parentid })">b/{{ notification.data.parentid }}</a></div>
        <div class="title" ng-if="notification.type == NotificationTypes.CHILD_BRANCH_REQUEST_ANSWERED"><a ui-sref="weco.profile.about({ username: notification.data.username })">{{ notification.data.username == me().username ? 'you' : notification.data.username }}</a> {{ notification.data.action }}ed your parent branch request from <a ui-sref="weco.branch.nucleus.about({ branchid: notification.data.childid })">b/{{ notification.data.childid }}</a> to <a ui-sref="weco.branch.nucleus.about({ branchid: notification.data.parentid })">b/{{ notification.data.parentid }}</a></div>
        <div class="title" ng-if="notification.type == NotificationTypes.BRANCH_MOVED"><a ui-sref="weco.branch.nucleus.about({ branchid: notification.data.childid })">b/{{ notification.data.childid }}</a> was moved to <a ui-sref="weco.branch.nucleus.about({ branchid: notification.data.parentid })">b/{{ notification.data.parentid }}</a></div>
        <div class="title" ng-if="notification.type == NotificationTypes.MODERATOR"><a ui-sref="weco.profile.about({ username: notification.data.username })">{{ notification.data.username == me().username ? 'you' : notification.data.username }}</a> {{ notification.data.action }}{{ notification.data.action == 'add' ? 'ed' : 'd' }} <a ui-sref="weco.profile.about({ username: notification.data.mod })">{{ notification.data.mod == me().username ? 'you' : notification.data.mod }}</a> as a moderator on <a ui-sref="weco.branch.nucleus.about({ branchid: notification.data.branchid })">b/{{ notification.data.branchid }}</a></div>
        <div class="title" ng-if="notification.type == NotificationTypes.COMMENT && notification.data.parentid == 'none'"><a ui-sref="weco.profile.about({ username: notification.data.username })">{{ notification.data.username == me().username ? 'you' : notification.data.username }}</a> <a ui-sref="weco.branch.post.comment({ branchid: notification.data.branchid, postid: notification.data.postid, commentid: notification.data.commentid })">commented</a> on your <a ui-sref="weco.branch.post({ branchid: notification.data.branchid, postid: notification.data.postid })">post</a></div>
        <div class="title" ng-if="notification.type == NotificationTypes.COMMENT && notification.data.parentid != 'none'"><a ui-sref="weco.profile.about({ username: notification.data.username })">{{ notification.data.username == me().username ? 'you' : notification.data.username }}</a> <a ui-sref="weco.branch.post.comment({ branchid: notification.data.branchid, postid: notification.data.postid, commentid: notification.data.commentid })">replied</a> to your <a ui-sref="weco.branch.post.comment({ branchid: notification.data.branchid, postid: notification.data.postid, commentid: notification.data.parentid })">comment</a> on a <a ui-sref="weco.branch.post({ branchid: notification.data.branchid, postid: notification.data.postid })">post</a></div>
        <div class="description">received at {{ notification.date | date:'hh:mm on dd of MMMM yyyy' }}</div>
      </div>
    </li>
  </u>
</div>

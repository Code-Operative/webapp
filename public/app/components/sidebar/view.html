<div
  class="sidebar no-transition"
  ng-class="{ 'toggled': Ctrl.AppService.isSidebarOpen }"
  no-constructor-transition>
  <div class="sidebar-info">
    <h1>{{ Ctrl.BranchService.branch.name }}</h1>
    
    <h2 id="inf-symbol" ng-show="Ctrl.BranchService.branch.parent.id === 'none'">&infin;</h2>
    
    <h2 ng-show="Ctrl.BranchService.branch.parent.id !== 'none'">
      <span
        class="ng-hide"
        ng-show="Ctrl.BranchService.branch.parent.id && Ctrl.BranchService.branch.parent.id !== 'root'">
        ... /
      </span>
      <a ng-href="{{ Ctrl.$state.href(Ctrl.getBreadcrumbsDynamicLink('parent'), { branchid: Ctrl.BranchService.branch.parent.id }) }}">
        {{ Ctrl.BranchService.branch.parent.name || 'All' }}
      </a>
      <span>
        /
      </span>
      <a ng-href="{{ Ctrl.$state.href(Ctrl.getBreadcrumbsDynamicLink('current'), { branchid: Ctrl.BranchService.branch.id }) }}">
        {{ Ctrl.BranchService.branch.name }}
      </a>
    </h2>
  </div>
  
  <div class="sidebar-picture" style="background-image: url('{{ Ctrl.BranchService.branch.profileUrl }}'), url('{{ Ctrl.BranchService.branch.profileUrlThumb }}'), url('/assets/images/default-branch.jpg');">
    <img
      alt=""
      id="edit"
      ng-class="{ 'style--default': !Ctrl.BranchService.branch.profileUrl }"
      ng-click="Ctrl.openModal('profile-picture')"
      ng-show="Ctrl.BranchService.isModerator()"
      src="/assets/images/icons/black/edit.png" />
  </div>
  
  <ul class="sidebar-controls">
    <li>
      <a
        ng-class="{ 'selected' : Ctrl.isControlSelected('nucleus') }"
        offset-y="60"
        text="'Nucleus'"
        tooltip
        ui-sref="weco.branch.nucleus.about({ branchid: Ctrl.BranchService.branch.id })">
        <img alt="Go to branch nucleus" src="/assets/images/icons/black/nucleus.png" />
      </a>
    </li>

    <li>
      <a
        ng-class="{ 'selected' : Ctrl.isControlSelected('wall') }"
        offset-y="60"
        text="'Wall'"
        tooltip
        ui-sref="weco.branch.wall({ branchid: Ctrl.BranchService.branch.id })">
        <img alt="Go to branch wall" src="/assets/images/icons/black/wall.png" />
      </a>
    </li>

    <li>
      <a
        ng-class="{ 'selected' : Ctrl.isControlSelected('subbranches') }"
        offset-y="60"
        text="'Child Branches'"
        tooltip
        ui-sref="weco.branch.subbranches({ branchid: Ctrl.BranchService.branch.id })" >
        <img alt="Go to branch subbranches" src="/assets/images/icons/black/branch.png" />
      </a>
    </li>

    <li ng-show="Ctrl.UserService.isAuthenticated() && Ctrl.BranchService.branch.id !== 'root'">
      <button
        ng-class="{ 'style--inactive': !Ctrl.BranchService.isFollowingBranch() }" 
        ng-click="Ctrl.toggleFollowBranch()"
        offset-y="60"
        text="Ctrl.getLabelFollowButton()"
        tooltip>
        <img
          alt="Toggle branch follow status button"
          ng-src="/assets/images/icons/button-eye-{{ Ctrl.BranchService.isFollowingBranch() ? 'active' : 'inactive' }}.png" />
      </button>
    </li>
  </ul>
</div>

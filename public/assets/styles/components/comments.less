div.comments {
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: @g-padding-post;
  width: 100%;

  #post-comments {
    flex: 1;
    overflow-y: scroll;
  }

  div.comment {
    @height: 80px;

    width: 100%;

    div.comment-content {
      display: flex;
      flex-direction: row;
      width: 100%;

      div.comment-votes {
        align-items: center;
        display: flex;
        flex-direction: column;
        height: @height;
        justify-content: space-between;
        margin-right: 10px;

        img {
          height: 22px;
          opacity: .3;
          width: 22px;

          &:hover {
            cursor: pointer;
            opacity: 1;
          }
        }
        p { margin: 0; }
      }

      div.comment-info {
        flex: 1;
        height: 100%;

        .comment-title {
          display: block;
          font-size: @font-size-xs;
          font-weight: @font-weight-normal;
          white-space: nowrap;

          a {
            color: @accent-0;
            font-weight: @font-weight-heavy;

            &:hover { text-decoration: underline; }
          }

          &:hover { cursor: pointer; }

          .mediaQuery(@screen-sm, { font-size: @font-size-sm; });
        }

        ul.comment-controls {
          li {
            @size: 16px;

            display: inline-block;
            height: @size;
            padding: 0 2px 0 0;
            width: @size;

            img {
              height: 100%;
              opacity: .4;
              width: 100%;
            }

            &:hover {
              cursor: pointer;
              
              img { opacity: 1; }
            }
          }
        }

        .write-comment { margin-top: @g-padding-post / 2; }

        textarea {
          border-radius: 3px;
          box-sizing: border-box;
          font-family: inherit;
          font-size: @font-size-xs;
          max-height: 150px;
          max-width: 100%;
          padding: 5px 10px;
          resize: vertical;
          width: 100%;
          .mediaQuery(@screen-sm, { font-size: @font-size-sm; });

          &:focus { outline: none; }
        }

        .button-container {
          text-align: right;

          .button {
            font-size: @font-size-sm;
            font-weight: @font-weight-normal;
            padding: 0 10px;
            
            &.cancel {
              .button(white, @primary-6, 30px, {
                background-color: @primary-5;
                box-shadow: @shadow-2;
              });
            }
            
            &.ok {
              .button(white, @accent-1, 30px, {
                background-color: @accent-0;
                box-shadow: @shadow-2;
              });
            }
          }
        }
      }
    }

    div.comment-replies {
      border-left: 1px solid @light-grey;
      box-sizing: border-box;
      margin-left: 14px;
      padding-left: 15px;

      span.load-more {
        color: @accent-0;
        font-size: @font-size-xs;
        font-weight: @font-weight-heavy;
        vertical-align: bottom;

        &:hover {
          cursor: pointer;
          text-decoration: underline;
        }
      }
    }

    &:not(:last-child) { margin-bottom: @g-padding-post; }
  }

  p {
    &#no-comments { font-style: italic; }
    
    &#permalink-notice {
      background-color: @light-grey;
      border: 1px solid @dark-grey;
      border-radius: 3px;
      padding: 5px 10px;

      a {
        color: @accent-0;
        font-weight: @font-weight-heavy;

        &:hover {
          cursor: pointer;
          text-decoration: underline;
        }
      }
    }
  }

  .write-comment {
    align-items: center;
    display: flex;

    textarea {
      border-radius: 3px;
      box-sizing: border-box;
      font-family: inherit;
      font-size: @font-size-xs;
      height: 32px;
      // max-height: 150px;
      max-width: 100%;
      padding: 5px 10px;
      resize: vertical;
      width: 100%;

      &:focus { outline: none; }

      .mediaQuery(@screen-sm, { font-size: @font-size-sm; });
    }

    .button-container {
      text-align: right;

      .button {
        font-size: @font-size-sm;
        font-weight: @font-weight-normal;
        margin-left: 10px;
        padding: 0 10px;
        
        &.ok {
          .button(white, @accent-1, 30px, {
            background-color: @accent-0;
            box-shadow: @shadow-2;
          });
        }
      }
    }
  }
}
